const _0x3b96=['name','../../common/utils','number','__esModule','isPrimaryDocument','validate','reduce','insertValues','metadata','includes','Each\x20AbstractBaseDocument\x20subclass\x20must\x20implement\x20the\x20canDelete()\x20method.','canUpdate','Each\x20AbstractBaseDocument\x20subclass\x20must\x20implement\x20the\x20canUpdate()\x20method.','Each\x20subclass\x20of\x20AbstractBaseDocument\x20must\x20define\x20it\x27s\x20document\x20schema.','defineProperty','An\x20AbstractBaseDocument\x20subclass\x20must\x20define\x20it\x27s\x20metadata\x20collection\x20name','schema','constructor','parse','validationError','map','entries','required','keys','mergeObject','collection','toLowerCase','_changed','Unhandled\x20schema\x20data\x20type\x20','_initialize','exports','\x20field\x20','default','getData','prototype','_validateRequiredField','_id','enforceTypes','_validateField','update','insertKeys','canCreate','recursive'];(function(_0x2081f1,_0x3b961c){const _0x3ae710=function(_0x430525){while(--_0x430525){_0x2081f1['push'](_0x2081f1['shift']());}};_0x3ae710(++_0x3b961c);}(_0x3b96,0xec));const _0x3ae7=function(_0x2081f1,_0x3b961c){_0x2081f1=_0x2081f1-0x0;let _0x3ae710=_0x3b96[_0x2081f1];return _0x3ae710;};'use strict';Object[_0x3ae7('0x24')](exports,_0x3ae7('0x19'),{'value':!![]});const util=require(_0x3ae7('0x17'));const primitiveTypes=[String,Number,Boolean,Object];const instanceTypes=[Array];const dateTypes=[Date];const ignoredValues=[undefined,null];class AbstractBaseDocument{constructor(_0x453f7a){this['_id']=null;this[_0x3ae7('0x8')](_0x453f7a);}['_initialize'](_0x56f635){const _0x1f5723=this[_0x3ae7('0x26')];if(!(_0x3ae7('0xf')in _0x1f5723))delete this[_0x3ae7('0xf')];if(_0x3ae7('0xf')in _0x56f635&&!_0x56f635['_id'])delete _0x56f635[_0x3ae7('0xf')];for(let [_0xf4b057,_0x4da8cd]of Object[_0x3ae7('0x0')](this[_0x3ae7('0x26')])){const _0x5461d6=_0x4da8cd['type'];let _0x2a2ba4=_0x56f635[_0xf4b057];if(_0x2a2ba4===undefined&&_0x4da8cd['default']!==undefined){_0x2a2ba4=_0x4da8cd[_0x3ae7('0xb')]instanceof Function?_0x4da8cd[_0x3ae7('0xb')](_0x56f635):_0x4da8cd['default'];}if(_0x5461d6===undefined||ignoredValues[_0x3ae7('0x1f')](_0x2a2ba4)){this[_0xf4b057]=_0x2a2ba4;continue;}if(_0x5461d6[_0x3ae7('0xd')]instanceof AbstractBaseDocument){if(_0x5461d6['metadata'][_0x3ae7('0x1a')])_0x2a2ba4=_0x2a2ba4[_0x3ae7('0xf')]||_0x2a2ba4;else _0x2a2ba4=new _0x5461d6(_0x2a2ba4,this);}else if(_0x5461d6 instanceof Array&&_0x5461d6['length']){const _0x283701=_0x5461d6[0x0];const _0xc6d52b=_0x2a2ba4||[];if(_0x283701[_0x3ae7('0xd')]instanceof AbstractBaseDocument){if(_0x283701[_0x3ae7('0x1e')]['isPrimaryDocument'])_0x2a2ba4=_0xc6d52b[_0x3ae7('0x2a')](_0x24f62d=>_0x24f62d[_0x3ae7('0xf')]||_0x24f62d);else _0x2a2ba4=_0xc6d52b['map'](_0x25b8e4=>new _0x283701(_0x25b8e4,this));}else{_0x2a2ba4=_0xc6d52b['map'](_0x30d85c=>_0x30d85c instanceof _0x283701?_0x30d85c:_0x283701(_0x30d85c));}}else if(primitiveTypes[_0x3ae7('0x1f')](_0x5461d6)){_0x2a2ba4=_0x2a2ba4 instanceof _0x5461d6?_0x2a2ba4:_0x5461d6(_0x2a2ba4);}else if(instanceTypes[_0x3ae7('0x1f')](_0x5461d6)){_0x2a2ba4=_0x2a2ba4 instanceof _0x5461d6?_0x2a2ba4:new _0x5461d6(_0x2a2ba4);}else if(dateTypes[_0x3ae7('0x1f')](_0x5461d6)){_0x2a2ba4=typeof _0x2a2ba4===_0x3ae7('0x18')?_0x2a2ba4:Date[_0x3ae7('0x28')](_0x2a2ba4);}else throw new Error(_0x3ae7('0x7')+_0x5461d6);this[_0xf4b057]=_0x2a2ba4;}return this;}static get['schema'](){throw new Error(_0x3ae7('0x23'));}get[_0x3ae7('0x26')](){return this['constructor'][_0x3ae7('0x26')];}static get[_0x3ae7('0x1e')](){return{'collection':this[_0x3ae7('0x16')][_0x3ae7('0x5')]()+'s','isPrimaryDocument':![],'isEmbeddedDocument':![]};}get[_0x3ae7('0x1e')](){return this[_0x3ae7('0x27')][_0x3ae7('0x1e')];}static get['collection'](){const _0x228ee1=this[_0x3ae7('0x1e')][_0x3ae7('0x4')];if(!_0x228ee1){throw new Error(_0x3ae7('0x25'));}return _0x228ee1;}[_0x3ae7('0x1b')](){for(let [_0x11c844,_0x25c347]of Object['entries'](this[_0x3ae7('0x26')])){let _0x2036ac=this[_0x3ae7('0xe')](_0x11c844,_0x25c347);if(_0x2036ac)this[_0x3ae7('0x11')](_0x11c844,_0x25c347);}return!![];}['_validateRequiredField'](_0x5a4612,_0x3140cd){const _0x37f9f3=this[_0x5a4612];const _0x20f793=[undefined,null,''][_0x3ae7('0x1f')](_0x37f9f3);if(_0x20f793){if(_0x5a4612===_0x3ae7('0xf'))return![];else if(_0x3140cd[_0x3ae7('0x1')])throw new Error('Required\x20field\x20'+_0x5a4612+'\x20not\x20present\x20in\x20'+this[_0x3ae7('0x27')][_0x3ae7('0x16')]+'.');else return![];}return!![];}[_0x3ae7('0x11')](_0x183713,_0x224449){const _0x26441e=this[_0x183713];if(_0x26441e instanceof AbstractBaseDocument){return _0x26441e[_0x3ae7('0x1b')]();}const _0x3a9e22=_0x224449[_0x3ae7('0x1b')];let _0x49ee3f=![];if(!!_0x3a9e22){try{_0x49ee3f=_0x3a9e22(_0x26441e);}catch(_0x494554){_0x49ee3f=![];}if(!_0x49ee3f){const _0x514e35=_0x224449[_0x3ae7('0x29')]||this[_0x3ae7('0x27')][_0x3ae7('0x16')]+_0x3ae7('0xa')+_0x183713+'\x20failed\x20provided\x20validation\x20rule.';throw new Error(_0x514e35);}}}static[_0x3ae7('0x14')](_0x130592,_0x1a2659,_0x445291,..._0x4ffb2c){throw new Error('Each\x20AbstractBaseDocument\x20subclass\x20must\x20implement\x20the\x20canCreate()\x20method.');}static[_0x3ae7('0x21')](_0x57f6a1,_0x519845,_0x3bf0ad,..._0x3a857a){throw new Error(_0x3ae7('0x22'));}static['canDelete'](_0x194237,_0x4cbe0d,..._0x3d4204){throw new Error(_0x3ae7('0x20'));}[_0x3ae7('0xc')](){return Object[_0x3ae7('0x2')](this[_0x3ae7('0x26')])[_0x3ae7('0x1c')]((_0xd0cc41,_0x22c589)=>{if(this[_0x22c589]!==undefined)_0xd0cc41[_0x22c589]=this[_0x22c589];return _0xd0cc41;},{'_id':null});}[_0x3ae7('0x12')](_0xad9edb,_0x113ae5={}){this[_0x3ae7('0x6')]=util['diffObject'](this,_0xad9edb);util[_0x3ae7('0x3')](this,_0xad9edb,{'insertValues':_0x3ae7('0x1d')in _0x113ae5?_0x113ae5[_0x3ae7('0x1d')]:!![],'insertKeys':_0x3ae7('0x13')in _0x113ae5?_0x113ae5[_0x3ae7('0x13')]:!![],'recursive':_0x3ae7('0x15')in _0x113ae5?_0x113ae5['recursive']:!![],'enforceTypes':_0x3ae7('0x10')in _0x113ae5?_0x113ae5[_0x3ae7('0x10')]:![],'overwrite':!![]});return this['_initialize'](this);}}exports[_0x3ae7('0xb')]=AbstractBaseDocument;module[_0x3ae7('0x9')]=AbstractBaseDocument;