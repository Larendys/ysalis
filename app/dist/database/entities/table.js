const _0x2026=['The\x20provided\x20icon\x20does\x20not\x20have\x20a\x20valid\x20image\x20extension.','collection','metadata','_id','valueInArray','equals','hasImageExtension','keys','replacement','exports','../odm/entity','img','results','canUpdate','formula','../../common/utils','Result\x20weights\x20must\x20be\x20positive\x20integers','text','drawn','resultId','range','../odm/embedded','schema','tables','Invalid\x20result\x20roll\x20range','preSave','hasOwnProperty','_changed','type','weight','isInteger','description'];(function(_0x410b9d,_0x202608){const _0x5e0170=function(_0x2615c0){while(--_0x2615c0){_0x410b9d['push'](_0x410b9d['shift']());}};_0x5e0170(++_0x202608);}(_0x2026,0x175));const _0x5e01=function(_0x410b9d,_0x202608){_0x410b9d=_0x410b9d-0x0;let _0x5e0170=_0x2026[_0x410b9d];return _0x5e0170;};const Entity=require(_0x5e01('0x15'));const Validators=require('../odm/validators');const EmbeddedDocument=require(_0x5e01('0x0'));const {TABLE_RESULT_TYPES}=require('../../common/constants');const util=require(_0x5e01('0x1a'));class TableResult extends EmbeddedDocument{static get[_0x5e01('0x1')](){const _0x1fde41=super[_0x5e01('0x1')];_0x1fde41[_0x5e01('0x7')]={'type':Number,'default':0x0,'validate':_0xfef36a=>Validators[_0x5e01('0xf')](_0xfef36a,Object['values'](TABLE_RESULT_TYPES))};_0x1fde41[_0x5e01('0x1c')]={'type':String,'required':![],'default':''};_0x1fde41['img']={'type':String,'required':![],'validator':Validators['hasImageExtension'],'validationError':_0x5e01('0xb')};_0x1fde41[_0x5e01('0xc')]={'type':String,'required':![]};_0x1fde41[_0x5e01('0x1e')]={'type':String,'required':![]};_0x1fde41[_0x5e01('0x8')]={'type':Number,'required':!![],'default':0x1,'validate':_0x224b3d=>Number[_0x5e01('0x9')](_0x224b3d)&&_0x224b3d>0x0,'validationError':_0x5e01('0x1b')};_0x1fde41[_0x5e01('0x1f')]={'type':[Number],'required':!![],'default':[],'validate':_0x1ea023=>_0x1ea023 instanceof Array&&_0x1ea023['length']===0x2,'validationError':_0x5e01('0x3')};_0x1fde41[_0x5e01('0x1d')]={'type':Boolean,'required':!![],'default':![]};return _0x1fde41;}static get[_0x5e01('0xd')](){return util['mergeObject'](super['metadata'],{'parent':RollTable,'collection':'results'});}async[_0x5e01('0x4')](){if(!this[_0x5e01('0x6')]||this[_0x5e01('0x6')][_0x5e01('0x5')]('text')){if(this[_0x5e01('0x1c')])this['text']=Validators['cleanHTML'](this[_0x5e01('0x1c')]);}}static[_0x5e01('0x18')](_0x5a4fce,_0x6dfa7f,_0x2ac269,_0x2a5f29){if(Object[_0x5e01('0x12')](_0x2a5f29)[_0x5e01('0x10')](['drawn',_0x5e01('0xe')]))return!![];return super['canUpdate'](_0x5a4fce,_0x6dfa7f,_0x2ac269,_0x2a5f29);}}class RollTable extends Entity{static get['schema'](){const _0x1f3721=super[_0x5e01('0x1')];_0x1f3721[_0x5e01('0x16')]={'type':String,'required':!![],'default':'icons/svg/d20-grey.svg','validator':Validators[_0x5e01('0x11')],'validationError':_0x5e01('0xb')};_0x1f3721[_0x5e01('0xa')]={'type':String,'required':![]};_0x1f3721[_0x5e01('0x17')]={'type':[TableResult],'default':[]};_0x1f3721[_0x5e01('0x19')]={'type':String,'required':![]};_0x1f3721[_0x5e01('0x13')]={'type':Boolean,'required':!![],'default':!![]};_0x1f3721['displayRoll']={'type':Boolean,'required':!![],'default':!![]};return _0x1f3721;}static get[_0x5e01('0xd')](){return util['mergeObject'](super[_0x5e01('0xd')],{'collection':_0x5e01('0x2'),'embeddedEntities':{'TableResult':TableResult}});}}module[_0x5e01('0x14')]={'RollTable':RollTable};