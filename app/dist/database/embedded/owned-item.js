const _0x12e8=['../odm/embedded','items','system','../entities/item','create','data','mergeObject','length','_updateDataModel','../entities/actor','metadata','type','schema','../../common/utils','exports','../../common/constants','parent','sort','preSave','_id','permission','_createDocumentId'];(function(_0x38a926,_0x12e80e){const _0x2402d3=function(_0x97185f){while(--_0x97185f){_0x38a926['push'](_0x38a926['shift']());}};_0x2402d3(++_0x12e80e);}(_0x12e8,0x152));const _0x2402=function(_0x38a926,_0x12e80e){_0x38a926=_0x38a926-0x0;let _0x2402d3=_0x12e8[_0x38a926];return _0x2402d3;};const {SORT_INTEGER_DENSITY}=require(_0x2402('0x7'));const util=require(_0x2402('0x5'));const EmbeddedDocument=require(_0x2402('0xe'));class OwnedItem extends EmbeddedDocument{static get[_0x2402('0x4')](){const _0x5d489c=Item[_0x2402('0x4')];_0x5d489c[_0x2402('0xb')]['default']=EmbeddedDocument[_0x2402('0xd')];delete _0x5d489c[_0x2402('0xc')];delete _0x5d489c['folder'];return _0x5d489c;}static get[_0x2402('0x2')](){return util[_0x2402('0x14')](super[_0x2402('0x2')],{'parent':Actor,'collection':_0x2402('0xf')});}static[_0x2402('0x12')](..._0x156205){const _0x462279=super[_0x2402('0x12')](..._0x156205);_0x462279[_0x2402('0x0')]();return _0x462279;}async['preSave'](_0x532044){await super[_0x2402('0xa')](_0x532044);if(!Number['isNumeric'](this[_0x2402('0x9')])){const _0x360e48=this[_0x2402('0x8')]['items']['map'](_0x4be0f2=>_0x4be0f2[_0x2402('0x9')]||0x0);const _0x5353fa=_0x360e48[_0x2402('0x15')]?Math['max'](..._0x360e48):0x0;this[_0x2402('0x9')]=_0x5353fa+SORT_INTEGER_DENSITY;}}[_0x2402('0x0')](){const _0x4a0c55=game[_0x2402('0x10')]['model']['Item'][this[_0x2402('0x3')]];if(!_0x4a0c55)return;this[_0x2402('0x13')]=util[_0x2402('0x14')](_0x4a0c55,this[_0x2402('0x13')],{'insertKeys':![],'insertValues':!![],'overwrite':!![],'inplace':![],'enforceTypes':![]});}}module[_0x2402('0x6')]={'OwnedItem':OwnedItem};const {Actor}=require(_0x2402('0x1'));const {Item}=require(_0x2402('0x11'));