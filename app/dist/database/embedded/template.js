const _0xddde=['templates','canCreate','../odm/embedded','ray','canUpdate','grid','angle','isColorString','Template\x20fill\x20color\x20must\x20be\x20a\x20valid\x20CSS\x20color\x20string.','_id','rect','../../common/utils','../odm/validators','metadata','direction','../entities/user','parent','#000000','schema','validate','hasPermission','isGM','includes','hypot','user','exports','mergeObject','texture','cone','distance','circle'];(function(_0x25827f,_0xddde17){const _0x5610f2=function(_0x1b56fd){while(--_0x1b56fd){_0x25827f['push'](_0x25827f['shift']());}};_0x5610f2(++_0xddde17);}(_0xddde,0x101));const _0x5610=function(_0x25827f,_0xddde17){_0x25827f=_0x25827f-0x0;let _0x5610f2=_0xddde[_0x25827f];return _0x5610f2;};const EmbeddedDocument=require(_0x5610('0x18'));const Validators=require(_0x5610('0x3'));const {User}=require(_0x5610('0x6'));const util=require(_0x5610('0x2'));class MeasuredTemplate extends EmbeddedDocument{static get['schema'](){const _0x41011e=super[_0x5610('0x9')];_0x41011e['t']={'type':String,'required':!![],'default':'l','validate':_0x10977c=>[_0x5610('0x15'),_0x5610('0x13'),_0x5610('0x1'),_0x5610('0x19')][_0x5610('0xd')](_0x10977c)};_0x41011e[_0x5610('0xf')]={'type':User,'required':!![]};_0x41011e['x']={'type':Number,'required':!![]};_0x41011e['y']={'type':Number,'required':!![]};_0x41011e[_0x5610('0x5')]={'type':Number,'required':!![]};_0x41011e[_0x5610('0x1c')]={'type':Number,'required':![],'validate':_0x3ac978=>_0x3ac978['between'](0x1,0x168),'validationError':'The\x20Measured\x20Template\x20angle\x20must\x20be\x20between\x201\x20and\x20360\x20degrees.'};_0x41011e['width']={'type':Number,'required':![]};_0x41011e['distance']={'type':Number,'required':!![]};_0x41011e['borderColor']={'type':String,'required':!![],'default':_0x5610('0x8'),'validate':Validators[_0x5610('0x1d')],'validationError':'Template\x20border\x20color\x20must\x20be\x20a\x20valid\x20CSS\x20color\x20string.'};_0x41011e['fillColor']={'type':String,'required':!![],'default':'#FF0000','validate':Validators['isColorString'],'validationError':_0x5610('0x1e')};_0x41011e[_0x5610('0x12')]={'type':String,'required':![]};return _0x41011e;}static get[_0x5610('0x4')](){return util[_0x5610('0x11')](super[_0x5610('0x4')],{'collection':_0x5610('0x16')});}['validate'](){const _0x417873=this[_0x5610('0x7')];if(!_0x417873)return!![];const _0x412d6c=Math[_0x5610('0xe')](_0x417873['width'],_0x417873['height']);for(let _0x4bf4d5 of[_0x5610('0x14'),'width']){const _0x486766=this[_0x4bf4d5]*(_0x417873[_0x5610('0x1b')]/_0x417873['gridDistance']);if(_0x486766>_0x412d6c)throw new Error('The\x20distance\x20or\x20width\x20of\x20this\x20Measured\x20Template\x20is\x20too\x20large.');}return super[_0x5610('0xa')]();}static[_0x5610('0x17')](_0x13e178,_0x159487,_0x34e048){return _0x13e178[_0x5610('0xb')]('TEMPLATE_CREATE');}static[_0x5610('0x1a')](_0x4b46e8,_0x1cb993,_0x44d08a,_0x3ffa9b){if(_0x4b46e8[_0x5610('0xc')])return!![];return _0x44d08a[_0x5610('0xf')]===_0x4b46e8[_0x5610('0x0')];}static['canDelete'](_0x26548a,_0x55443a,_0x53614c){if(_0x26548a['isGM'])return!![];return _0x53614c[_0x5610('0xf')]===_0x26548a[_0x5610('0x0')];}}module[_0x5610('0x10')]={'MeasuredTemplate':MeasuredTemplate};